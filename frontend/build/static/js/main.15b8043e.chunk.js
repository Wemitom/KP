(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[1],{147:function(e,t){},162:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(29),o=a.n(r),i=a(7),s=a.n(i),l=a(12),u=a(4),h=(a(71),a(9)),d=a.n(h),b=a(5),p=a(6),j=(a(94),a(2)),f=function(){var e=Object(p.b)().loginWithRedirect;return Object(j.jsx)("div",{className:"login-logout",onClick:function(){return e()},children:"\u0412\u043e\u0439\u0442\u0438/\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})},g=function(){var e=Object(p.b)().logout;return Object(j.jsx)("div",{className:"login-logout",onClick:function(){return e({returnTo:window.location.origin})},children:"\u0412\u044b\u0439\u0442\u0438"})},O=function(){return Object(p.b)().isAuthenticated?Object(j.jsx)(g,{}):Object(j.jsx)(f,{})};var m=function(e){var t=e.searchedTitle,a=e.handleChange;return Object(j.jsx)("div",{className:"search-bar",children:Object(j.jsx)("input",{type:"text",value:t,minLength:"5",maxLength:"60",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e...",onChange:function(e){a(e)}})})},x=a(8);var v=function(e){var t=e.searchedTitle,a=e.handleChange,n=e.isAdmin,c=Object(x.h)();return Object(j.jsx)("header",{className:"page-header",children:Object(j.jsxs)("ul",{className:"nav",children:[Object(j.jsx)("li",{children:Object(j.jsx)(b.b,{to:"/",className:"grid-item",children:"\u0414\u043e\u043c\u043e\u0439"})}),Object(j.jsx)("li",{children:Object(j.jsx)(b.b,{to:"/new-article",children:" \u041d\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f "})}),n&&Object(j.jsx)("li",{children:Object(j.jsx)(b.b,{to:"/new-category",children:" \u041d\u043e\u0432\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f "})}),Object(j.jsx)("li",{style:{float:"right",marginRight:"50px"},children:Object(j.jsx)(O,{})}),("/"===c.pathname||null!==c.pathname.match(/\/category\/.+$/))&&Object(j.jsx)("li",{children:Object(j.jsx)(m,{searchedTitle:t,handleChange:a})})]})})},M=a(10),w=a(15),y=a(20),k=c.a.lazy((function(){return a.e(0).then(a.bind(null,170))})),C=function(e){var t=e.id,a=e.title,c=e.author,r=e.date,o=e.description,i=e.imgURL,h=e.isAdmin,f=e.onNewArticle,g=e.categories,O=e.accessToken,m=Object(x.i)().category,v=Object(p.b)(),C=v.user,R=v.isLoading,N=Object(n.useState)(!1),T=Object(u.a)(N,2),U=T[0],A=T[1],I=function(e){M.b.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},L=function(){var e=Object(l.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,d.a.put("http://localhost:5000/api/categories",{_id:"".concat(g.find((function(e){return e.title===decodeURIComponent(m)}))._id),articles:Object(w.a)(g.find((function(e){return e.title===decodeURIComponent(m)})).articles.filter((function(e){return e._id!==t}))),action:"edit",accessToken:"".concat(O),articleId:"".concat(t)},{headers:{authorization:"Bearer ".concat(O)}});case 4:return e.next=6,d.a.delete("http://localhost:5000/api/articles",{data:{_id:"".concat(t)},headers:{authorization:"Bearer ".concat(O)}});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),n="\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u044c\u0438\n".concat(e.t0),M.b.error(n,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),e.abrupt("return");case 12:I("\u0421\u0442\u0430\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430"),f();case 14:case"end":return e.stop()}var n}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(b.b,{to:"/category/".concat(m,"/article/").concat(t),className:"article-home",children:[U&&Object(j.jsx)(x.a,{to:"/category/".concat(m,"/article/").concat(t,"/edit")}),(h||!R&&void 0!==C&&c===C.nickname)&&Object(j.jsx)(y.a,{className:"delete-btn",onClick:L}),(h||!R&&void 0!==C&&c===C.nickname)&&Object(j.jsx)(y.b,{className:"edit-btn-article",onClick:function(e){e.preventDefault(),A(!0)}}),Object(j.jsx)(n.Suspense,{fallback:Object(j.jsx)("div",{className:"img-fallback",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(j.jsx)(k,{imgURL:i})}),r.getDate()," ",function(e){switch(e){case 1:return"\u042f\u043d\u0432\u0430\u0440\u044f";case 2:return"\u0424\u0435\u0432\u0440\u0430\u043b\u044f";case 3:return"\u041c\u0430\u0440\u0442\u0430";case 4:return"\u0410\u043f\u0440\u0435\u043b\u044f";case 5:return"\u041c\u0430\u044f";case 6:case 7:return"\u0418\u044e\u043d\u044f";case 8:return"\u0410\u0432\u0433\u0443\u0441\u0442\u0430";case 9:return"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f";case 10:return"\u041e\u043a\u0442\u044f\u0431\u0440\u044f";case 11:return"\u041d\u043e\u044f\u0431\u0440\u044f";case 12:return"\u0414\u0435\u043a\u0430\u0431\u0440\u044f";default:return"\u041e\u0448\u0438\u0431\u043a\u0430"}}(r.getMonth()+1)," ",r.getFullYear(),Object(j.jsxs)("small",{className:"article-home-author",children:["\u0430\u0432\u0442\u043e\u0440: ",c]}),Object(j.jsx)("h2",{className:"article-home-title",children:a}),Object(j.jsx)("br",{}),o,Object(j.jsx)("br",{})]})},R=a(18),N=a.n(R);var T=function(e){var t=e.categories,a=e.searchedTitle,c=e.fetching,r=e.displayError,o=e.error,i=e.isAdmin,s=e.onNewArticle,l=e.accessToken,u=Object(x.i)().category;Object(n.useEffect)((function(){r&&o("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445")}),[o,r]);var h=0===t.length?[]:t.find((function(e){return e.title===decodeURIComponent(u)})),d=void 0===h||0===h.length?[]:h.articles.filter((function(e){return e.title.toLowerCase().startsWith(a.toLowerCase())}));return Object(j.jsxs)("div",{className:"articles",children:[0!==d.length?d.map((function(e){return Object(j.jsx)(C,{id:e._id,title:e.title,date:new Date(e.date),description:e.description,author:e.author,imgURL:e.imgURL,isAdmin:i,onNewArticle:s,categories:t,accessToken:l},e._id)})):!c&&Object(j.jsx)("h1",{style:{color:"rgb(175,0,0)"},children:"\u0421\u0442\u0430\u0442\u0435\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),c&&Object(j.jsx)(N.a,{type:"TailSpin",color:"rgb(175,0,0)",height:100,width:100,style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",zIndex:"2"}})]})},U=a(27),A=a(63),I=a.n(A);var L=function(){return Object(j.jsx)("h1",{className:"page-404",children:"404 \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})},S=a(64),_=a.n(S);a(162),a(163),a(164),a(165),a(166),a(167),a(168);var B=function(e){var t=e.comment;return Object(j.jsxs)("div",{className:"article-comment",children:[Object(j.jsxs)("small",{children:[t.author,Object(j.jsx)("span",{style:{float:"right"},children:function(e){var t=new Date(e),a=Math.abs(t.getTime()-Date.now());return 0===Math.floor(a/(3.154*Math.pow(10,10)))?0===Math.floor(a/(2.628*Math.pow(10,9)))?0===Math.floor(a/(8.64*Math.pow(10,7)))?0===Math.floor(a/(3.6*Math.pow(10,6)))?0===Math.floor(a/6e4)?1===Math.round(a/1e3)?"".concat(Math.round(a/1e3)," \u0441\u0435\u043a\u0443\u043d\u0434\u0443"):Math.round(a/1e3)>=2&&Math.round(a/1e3)<=4?"".concat(Math.round(a/1e3)," \u0441\u0435\u043a\u0443\u043d\u0434\u044b"):"".concat(Math.round(a/1e3)," \u0441\u0435\u043a\u0443\u043d\u0434"):1===Math.floor(a/6e4)?"".concat(Math.floor(a/6e4)," \u043c\u0438\u043d\u0443\u0442\u0443"):Math.floor(a/6e4)>=2&&Math.floor(a/6e4)<=4?"".concat(Math.floor(a/6e4)," \u043c\u0438\u043d\u0443\u0442\u044b"):"".concat(Math.floor(a/6e4)," \u043c\u0438\u043d\u0443\u0442"):1===Math.floor(a/(3.6*Math.pow(10,6)))?"".concat(Math.floor(a/(3.6*Math.pow(10,6)))," \u0447\u0430\u0441"):Math.floor(a/(3.6*Math.pow(10,6)))>=2&&Math.floor(a/(3.6*Math.pow(10,6)))<=4?"".concat(Math.floor(a/(3.6*Math.pow(10,6)))," \u0447\u0430\u0441\u0430"):"".concat(Math.floor(a/(3.6*Math.pow(10,6)))," \u0447\u0430\u0441\u043e\u0432"):1===Math.floor(a/(8.64*Math.pow(10,7)))?"".concat(Math.floor(a/(8.64*Math.pow(10,7)))," \u0434\u0435\u043d\u044c"):Math.floor(a/(8.64*Math.pow(10,7)))>=2&&Math.floor(a/(8.64*Math.pow(10,7)))<=4?"".concat(Math.floor(a/(8.64*Math.pow(10,7)))," \u0434\u043d\u044f"):"".concat(Math.floor(a/(8.64*Math.pow(10,7)))," \u0434\u043d\u0435\u0439"):1===Math.floor(a/(2.628*Math.pow(10,9)))?"".concat(Math.floor(a/(2.628*Math.pow(10,9)))," \u043c\u0435\u0441\u044f\u0446"):Math.floor(a/(2.628*Math.pow(10,9)))>=2&&Math.floor(a/(2.628*Math.pow(10,9)))<=4?"".concat(Math.floor(a/(2.628*Math.pow(10,9)))," \u043c\u0435\u0441\u044f\u0446\u0430"):"".concat(Math.floor(a/(2.628*Math.pow(10,9)))," \u043c\u0435\u0441\u044f\u0446\u043e\u0432"):1===Math.floor(a/(3.154*Math.pow(10,10)))?"".concat(Math.floor(a/(3.154*Math.pow(10,10)))," \u0433\u043e\u0434"):Math.floor(a/(3.154*Math.pow(10,10)))>=2&&Math.floor(a/(3.154*Math.pow(10,10)))<=4?"".concat(Math.floor(a/(3.154*Math.pow(10,10)))," \u0433\u043e\u0434\u0430"):"".concat(Math.floor(a/(3.154*Math.pow(10,10)))," \u043b\u0435\u0442")}(t.date)+" \u043d\u0430\u0437\u0430\u0434"})," "]}),Object(j.jsx)("p",{style:{marginTop:"10px"},children:t.body})]})};var z=function(e){var t=e.comments,a=Object(w.a)(t);return Object(j.jsx)("div",{className:"comments",children:a.reverse().filter((function(e){return void 0!==e.body})).map((function(e){return Object(j.jsx)(B,{comment:e},e._id)}))})};a(36);var D=function(e){var t=e.comments,a=e.onNewComment,c=e.accessToken,r=Object(p.b)(),o=r.user,i=r.isAuthenticated,h=Object(x.i)().id,b=Object(n.useState)(""),f=Object(u.a)(b,2),g=f[0],O=f[1],m=Object(n.useState)(!1),v=Object(u.a)(m,2),y=v[0],k=v[1],C=function(e){M.b.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},R=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=4;break}k(!0),e.next=16;break;case 4:return e.prev=4,e.next=7,d.a.put("http://localhost:5000/api/articles/comments",{_id:"".concat(h),comments:[].concat(Object(w.a)(t),[{body:"".concat(g),date:"".concat(Date.now()),author:"".concat(o.nickname)}])},{headers:{authorization:"Bearer ".concat(c)}});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(4),n=e.t0+" \u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f...",M.b.error(n,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),e.abrupt("return");case 13:a(g,o.nickname),C("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"),O("");case 16:case"end":return e.stop()}var n}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{style:{textAlign:"center"},children:[y&&Object(j.jsx)(x.a,{to:"/login"}),Object(j.jsx)("textarea",{style:{width:"100% ",height:"10vh",borderRadius:"5px",resize:"none"},value:g,onChange:function(e){O(e.target.value)}}),Object(j.jsx)("button",{className:"btn",style:{width:"40vw"},onClick:R,children:"\u0412\u044b\u043b\u043e\u0436\u0438\u0442\u044c"})]})},E=a(31),H=a.n(E);var P=function(e){var t=e.categories,a=e.fetching,c=e.onNewArticle,r=e.isAdmin,o=e.accessToken,i=Object(x.i)(),h=i.category,f=i.id,g=Object(n.useState)([]),O=Object(u.a)(g,2),m=O[0],v=O[1],k=Object(p.b)(0),C=k.user,R=k.isLoading,T=Object(x.h)(),A=function(e){M.b.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},S=Object(n.useMemo)((function(){return 0===t.length?{comments:[]}:t.find((function(e){return e.title===decodeURIComponent(h)}))}),[t,h]),B=void 0===S||void 0===S.articles?void 0:S.articles.find((function(e){return e._id===f})),E=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("http://localhost:5000/api/categories",{_id:"".concat(t.find((function(e){return e.title===decodeURIComponent(h)}))._id),articles:Object(w.a)(t.find((function(e){return e.title===decodeURIComponent(h)})).articles.filter((function(e){return e._id!==f}))),action:"edit",accessToken:"".concat(o),articleId:"".concat(f)},{headers:{authorization:"Bearer ".concat(o)}});case 3:return e.next=5,d.a.delete("http://localhost:5000/api/articles",{data:{_id:"".concat(f)},headers:{authorization:"Bearer ".concat(o)}});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),a="\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u044c\u0438\n".concat(e.t0),M.b.error(a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),e.abrupt("return");case 11:A("\u0421\u0442\u0430\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430"),c();case 13:case"end":return e.stop()}var a}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){_.a.highlightAll()})),Object(n.useEffect)((function(){void 0!==B&&v(B.comments)}),[a,B]),Object(j.jsx)("div",{children:void 0===B||void 0===B.body?!a&&Object(j.jsx)(L,{})||a&&Object(j.jsx)(N.a,{type:"TailSpin",color:"rgb(175,0,0)",height:100,width:100,style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",zIndex:"2"}}):Object(j.jsxs)("div",{className:"article ",children:[Object(j.jsx)("h1",{className:"article-title",children:B.title})," ",Object(j.jsx)("br",{})," ",Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:B.description}),Object(j.jsxs)("small",{children:["\u0432\u044b\u043b\u043e\u0436\u0435\u043d\u043e ",function(e){var t=new Date(e),a=Math.abs(t.getTime()-Date.now());return 0===Math.floor(a/(3.154*Math.pow(10,10)))?0===Math.floor(a/(2.628*Math.pow(10,9)))?0===Math.floor(a/(8.64*Math.pow(10,7)))?0===Math.floor(a/(3.6*Math.pow(10,6)))?0===Math.floor(a/6e4)?1===Math.round(a/1e3)?"".concat(Math.round(a/1e3)," \u0441\u0435\u043a\u0443\u043d\u0434\u0443"):Math.round(a/1e3)>=2&&Math.round(a/1e3)<=4?"".concat(Math.round(a/1e3)," \u0441\u0435\u043a\u0443\u043d\u0434\u044b"):"".concat(Math.round(a/1e3)," \u0441\u0435\u043a\u0443\u043d\u0434"):1===Math.floor(a/6e4)?"".concat(Math.floor(a/6e4)," \u043c\u0438\u043d\u0443\u0442\u0443"):Math.floor(a/6e4)>=2&&Math.floor(a/6e4)<=4?"".concat(Math.floor(a/6e4)," \u043c\u0438\u043d\u0443\u0442\u044b"):"".concat(Math.floor(a/6e4)," \u043c\u0438\u043d\u0443\u0442"):1===Math.floor(a/(3.6*Math.pow(10,6)))?"".concat(Math.floor(a/(3.6*Math.pow(10,6)))," \u0447\u0430\u0441"):Math.floor(a/(3.6*Math.pow(10,6)))>=2&&Math.floor(a/(3.6*Math.pow(10,6)))<=4?"".concat(Math.floor(a/(3.6*Math.pow(10,6)))," \u0447\u0430\u0441\u0430"):"".concat(Math.floor(a/(3.6*Math.pow(10,6)))," \u0447\u0430\u0441\u043e\u0432"):1===Math.floor(a/(8.64*Math.pow(10,7)))?"".concat(Math.floor(a/(8.64*Math.pow(10,7)))," \u0434\u0435\u043d\u044c"):Math.floor(a/(8.64*Math.pow(10,7)))>=2&&Math.floor(a/(8.64*Math.pow(10,7)))<=4?"".concat(Math.floor(a/(8.64*Math.pow(10,7)))," \u0434\u043d\u044f"):"".concat(Math.floor(a/(8.64*Math.pow(10,7)))," \u0434\u043d\u0435\u0439"):1===Math.floor(a/(2.628*Math.pow(10,9)))?"".concat(Math.floor(a/(2.628*Math.pow(10,9)))," \u043c\u0435\u0441\u044f\u0446"):Math.floor(a/(2.628*Math.pow(10,9)))>=2&&Math.floor(a/(2.628*Math.pow(10,9)))<=4?"".concat(Math.floor(a/(2.628*Math.pow(10,9)))," \u043c\u0435\u0441\u044f\u0446\u0430"):"".concat(Math.floor(a/(2.628*Math.pow(10,9)))," \u043c\u0435\u0441\u044f\u0446\u043e\u0432"):1===Math.floor(a/(3.154*Math.pow(10,10)))?"".concat(Math.floor(a/(3.154*Math.pow(10,10)))," \u0433\u043e\u0434"):Math.floor(a/(3.154*Math.pow(10,10)))>=2&&Math.floor(a/(3.154*Math.pow(10,10)))<=4?"".concat(Math.floor(a/(3.154*Math.pow(10,10)))," \u0433\u043e\u0434\u0430"):"".concat(Math.floor(a/(3.154*Math.pow(10,10)))," \u043b\u0435\u0442")}(B.date)," \u043d\u0430\u0437\u0430\u0434 \u0430\u0432\u0442\u043e\u0440"," ",B.author]}),(r||!R&&void 0!==C&&B.author===C.nickname)&&Object(j.jsxs)(b.b,{to:"".concat(T.pathname,"/edit"),className:"edit-btn",children:["\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",Object(j.jsx)(y.b,{})]}),(r||!R&&void 0!==C&&B.author===C.nickname)&&Object(j.jsxs)(b.b,{to:"..",className:"edit-btn",style:{marginRight:"10px"},onClick:E,children:["\u0423\u0434\u0430\u043b\u0438\u0442\u044c",Object(j.jsx)(U.a,{})]}),Object(j.jsx)("div",{className:"article-body",children:I()(B.body)}),Object(j.jsx)("h1",{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0430\u0442\u0440\u0438\u0438:"}),Object(j.jsx)(D,{comments:m,onNewComment:function(e,t){v([].concat(Object(w.a)(m),[{_id:H.a.Types.ObjectId(),body:"".concat(e),date:"".concat(new Date(Date.now())),author:"".concat(t)}]))},accessToken:o}),m.length>0&&Object(j.jsx)(z,{comments:m})]})})};var q=function(){var e=Object(p.b)(),t=e.loginWithRedirect;return e.isAuthenticated?x.a:t(),Object(j.jsx)("div",{})},V=a(19),F=a(65);var W=function(e){var t=e.categories,a=e.initValue,c=e.onNewArticle,r=e.method,o=e.accessToken,i=Object(n.useState)(a),h=Object(u.a)(i,2),b=h[0],p=h[1],f=Object(n.useState)(!1),g=Object(u.a)(f,2),O=g[0],m=g[1],v=Object(n.useState)(!1),y=Object(u.a)(v,2),k=y[0],C=y[1],R=Object(n.useState)(!0),T=Object(u.a)(R,2),U=T[0],A=T[1],I=Object(x.i)(),L=I.title,S=I.description,_=I.imgURL,B=I.categor,z=I.category,D=I.id;void 0===S&&(S=null),void 0===_&&(_=null);var E=H.a.Types.ObjectId(),P=function(e){M.b.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},q=function(){var e=Object(l.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={title:"".concat(decodeURIComponent(L)),description:"".concat(decodeURIComponent(S)),body:"".concat(b),date:"".concat(Date.now()),imgURL:"".concat(_),hidden:"false"},e.prev=1,C(!0),void 0!==t.find((function(e){return e.title===decodeURIComponent(B)}))){e.next=5;break}throw Error("\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438");case 5:if("post"!==r){e.next=12;break}return e.next=8,d.a.post("http://localhost:5000/api/articles",Object(V.a)(Object(V.a)({},a),{},{_id:"".concat(E),accessToken:"".concat(o),comments:[]}),{headers:{authorization:"Bearer ".concat(o)}});case 8:return e.next=10,d.a.put("http://localhost:5000/api/categories",{_id:"".concat(t.find((function(e){return e.title===decodeURIComponent(B)}))._id),articles:[].concat(Object(w.a)(t.find((function(e){return e.title===decodeURIComponent(B)})).articles),["".concat(E)])},{headers:{authorization:"Bearer ".concat(o)}});case 10:e.next=20;break;case 12:if("put"!==r){e.next=20;break}return e.next=15,d.a.put("http://localhost:5000/api/articles",Object(V.a)(Object(V.a)({},a),{},{_id:"".concat(D)}),{headers:{authorization:"Bearer ".concat(o)}});case 15:if(z===B){e.next=20;break}return e.next=18,d.a.put("http://localhost:5000/api/categories",{_id:"".concat(t.find((function(e){return e.title===decodeURIComponent(z)}))._id),articles:Object(w.a)(t.find((function(e){return e.title===decodeURIComponent(z)})).articles.filter((function(e){return e._id!==D}))),articleId:"".concat(D),action:"edit"},{headers:{authorization:"Bearer ".concat(o)}});case 18:return e.next=20,d.a.put("http://localhost:5000/api/categories",{_id:"".concat(t.find((function(e){return e.title===decodeURIComponent(B)}))._id),articles:[].concat(Object(w.a)(t.find((function(e){return e.title===decodeURIComponent(B)})).articles),["".concat(D)])},{headers:{authorization:"Bearer ".concat(o)}});case 20:C(!1),e.next=28;break;case 23:return e.prev=23,e.t0=e.catch(1),n=e.t0+" \u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u044c\u0438 \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u043d\u0430 \u0434\u043e\u043c\u0430\u0448\u044e\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443...",M.b.error(n,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),m(!0),e.abrupt("return");case 28:c(),P("\u0421\u0442\u0430\u0442\u044c\u044f '".concat(decodeURIComponent(L),"' \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u0430")),m(!0);case 31:case"end":return e.stop()}var n}),e,null,[[1,23]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"editor",children:[Object(j.jsx)(M.a,{}),(U||k)&&Object(j.jsx)(N.a,{type:"TailSpin",color:"rgb(175,0,0)",height:100,width:100,style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",zIndex:"2"}}),O&&Object(j.jsx)(x.a,{to:{pathname:"/",state:{errorConnecting:!1}}}),Object(j.jsx)(F.a,{initialValue:b,apiKey:"y1grgw4couwug3ktr20n91peoxrw8dn9s2cidtisb34xvlvt",init:{height:"88vh",width:"71vw",content_style:"body {color: rgb(175, 0, 0);}",setMode:"readonly",language:"ru",menubar:"insert | edit | format | view",plugins:"advlist autolink lists link image charmap print preview anchor searchreplace visualblocks code fullscreen insertdatetime media table paste code help wordcount toc codesample",toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help | codesample code | toc"},onEditorChange:function(e){return p(e)},onInit:function(){A(!1)}}),Object(j.jsx)("button",{className:"btn ".concat(U?"hidden":""),onClick:q,children:"\u0412\u044b\u043b\u043e\u0436\u0438\u0442\u044c"})]})},J=a(13);var $=function(e){var t,a=e.categories,c=e.initTitle,r=void 0===c?"\u041d\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f":c,o=e.initDescription,i=void 0===o?"":o,s=e.initImgURL,l=void 0===s?"":s,h=e.initCategory,d=void 0===h?0!==a.length?a[0].title:"":h,b=Object(n.useState)(r),p=Object(u.a)(b,2),f=p[0],g=p[1],O=Object(n.useState)(i),m=Object(u.a)(O,2),v=m[0],M=m[1],w=Object(n.useState)(l),y=Object(u.a)(w,2),k=y[0],C=y[1],R=Object(n.useState)(d),N=Object(u.a)(R,2),T=N[0],U=N[1],A=Object(J.a)(),I=Object(x.h)(),L={borderColor:"red",backgroundColor:"#ffcccb"},S={borderColor:"green",backgroundColor:"lightgreen"};return Object(j.jsxs)("form",{className:"new-article-form",onSubmit:function(){A.push("".concat(I.pathname,"/title=").concat(encodeURIComponent(f),"/description=").concat(encodeURIComponent(v),"/imgURL=").concat(encodeURIComponent(k),"/category=").concat(encodeURIComponent(T)))},children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438:",Object(j.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435(5-60 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)",style:{borderRadius:"5px"},defaultValue:r,required:!0,minLength:"5",maxLength:"60",onChange:function(e){g(e.target.value)}}),Object(j.jsx)("span",{style:{marginTop:"10px"},children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(j.jsx)("textarea",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435(1-70 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)",required:!0,maxLength:"70",value:v,style:t,onChange:function(e){M(e.target.value),t=e.target.value.length<5||e.target.value>60?L:S}}),Object(j.jsx)("span",{style:{marginTop:"10px"},children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0434\u043b\u044f \u0437\u0430\u0434\u043d\u0435\u0433\u043e \u0444\u043e\u043d\u0430:"}),Object(j.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL",style:{borderRadius:"5px"},value:k,required:!0,pattern:".+\\.(jpeg|jpg|gif|png)$",onChange:function(e){C(e.target.value)}}),0!==a.length&&Object(j.jsx)("span",{style:{marginTop:"10px"},children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e:"}),0!==a.length&&Object(j.jsx)("select",{required:!0,value:T,onChange:function(e){return U(e.target.value)},children:a.map((function(e){return Object(j.jsx)("option",{value:e.title,children:e.title},e._id)}))}),Object(j.jsx)("input",{type:"submit",value:"\u0414\u0430\u043b\u0435\u0435",className:"btn",style:{marginTop:"20px"}})]})};var G=Object(p.c)((function(e){var t=e.categories,a=e.onNewArticle,n=e.isAdmin,c=e.accessToken,r=Object(x.j)().path;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.b,{exact:!0,path:"".concat(r),render:function(e){return Object(j.jsx)($,{categories:t})}}),Object(j.jsx)(x.b,{path:"".concat(r,"/title=:title/description=:description/imgURL=:imgURL/category=:categor"),render:function(e){return Object(j.jsx)(W,{categories:t,initValue:"\u041d\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f",onNewArticle:a,method:"post",isAdmin:n,accessToken:c})}})]})}));var K=function(e){var t=e.handleClick;return Object(j.jsxs)("div",{className:"verify-email",children:[Object(j.jsx)(U.b,{style:{visibility:"hidden"}})," \u0412\u0430\u0448 e-mail \u043d\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d!",Object(j.jsx)(U.b,{style:{cursor:"pointer"},onClick:t})]})},Y=c.a.lazy((function(){return a.e(0).then(a.bind(null,170))})),Q=function(e){var t=e.title,a=e.description,c=e.imgURL,r=e.onNewArticle,o=e.isAdmin,i=e.accessToken,h=Object(n.useState)(!1),p=Object(u.a)(h,2),f=p[0],g=p[1],O=function(e){M.b.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},m=function(){var e=Object(l.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,d.a.delete("http://localhost:5000/api/categories",{data:{title:"".concat(t)},headers:{authorization:"Bearer ".concat(i)}});case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),n="\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438\n".concat(e.t0),M.b.error(n,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),e.abrupt("return");case 10:O("\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430"),r();case 12:case"end":return e.stop()}var n}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(b.b,{to:"/category/".concat(encodeURIComponent(t)),className:"article-home",children:[f&&Object(j.jsx)(x.a,{to:"/category/".concat(encodeURIComponent(t),"/edit")}),o&&Object(j.jsx)(y.a,{className:"delete-btn",onClick:m}),o&&Object(j.jsx)(y.b,{className:"edit-btn-article",onClick:function(e){e.preventDefault(),g(!0)}}),Object(j.jsx)(n.Suspense,{fallback:Object(j.jsx)("div",{className:"img-fallback",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(j.jsx)(Y,{imgURL:c})}),Object(j.jsx)("h2",{className:"article-home-title",children:t}),Object(j.jsx)("br",{}),a,Object(j.jsx)("br",{})]})};var X=function(e){var t=e.categories,a=e.searchedTitle,c=e.fetching,r=e.displayError,o=e.error,i=e.accessToken,s=e.isAdmin,l=e.onNewArticle;Object(n.useEffect)((function(){r&&o("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445")}),[o,r]);var u=t.filter((function(e){return e.title.toLowerCase().startsWith(a.toLowerCase())}));return Object(j.jsxs)("div",{className:"articles",children:[0!==u.length?u.map((function(e){return Object(j.jsx)(Q,{id:e._id,title:e.title,description:e.description,imgURL:e.imgURL,accessToken:i,isAdmin:s,onNewArticle:l},e._id)})):!c&&Object(j.jsx)("h1",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),c&&Object(j.jsx)(N.a,{type:"TailSpin",color:"rgb(175,0,0)",height:100,width:100,style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",zIndex:"2"}})]})};var Z=function(e){var t,a=e.onNewArticle,c=e.categories,r=e.action,o=Object(x.i)().category,i=void 0===o?null:c.find((function(e){return e.title===decodeURIComponent(o)})),h=Object(n.useState)(null===i?"\u041d\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f":i.title),b=Object(u.a)(h,2),f=b[0],g=b[1],O=Object(n.useState)(null===i?"":i.description),m=Object(u.a)(O,2),v=m[0],w=m[1],y=Object(n.useState)(null===i?"":i.imgURL),k=Object(u.a)(y,2),C=k[0],R=k[1],T=Object(n.useState)(!1),U=Object(u.a)(T,2),A=U[0],I=U[1],L=Object(n.useState)(!1),S=Object(u.a)(L,2),_=S[0],B=S[1],z=Object(p.b)().getAccessTokenSilently,D={borderColor:"red",backgroundColor:"#ffcccb"},E={borderColor:"green",backgroundColor:"lightgreen"},H=function(e){M.b.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},P=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={title:"".concat(f),description:"".concat(v),imgURL:"".concat(C)},e.prev=2,B(!0),e.next=6,z({audience:"http://localhost:5000/api",scope:"read:current_user"});case 6:if(c=e.sent,"post"!==r){e.next=12;break}return e.next=10,d.a.post("http://localhost:5000/api/categories",Object(V.a)(Object(V.a)({},n),{},{articles:[]}),{headers:{authorization:"Bearer ".concat(c)}});case 10:e.next=15;break;case 12:if("put"!==r){e.next=15;break}return e.next=15,d.a.put("http://localhost:5000/api/category",Object(V.a)(Object(V.a)({},n),{},{oldTitle:"".concat(o),articles:i.articles}),{headers:{authorization:"Bearer ".concat(c)}});case 15:B(!1),e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(2),s=e.t0+" \u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u043d\u0430 \u0434\u043e\u043c\u0430\u0448\u044e\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443...",M.b.error(s,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),I(!0),e.abrupt("return");case 23:a(),H("\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f '".concat(decodeURIComponent(f),"' \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u0430")),I(!0);case 26:case"end":return e.stop()}var s}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("form",{className:"new-article-form",onSubmit:P,children:[A&&Object(j.jsx)(x.a,{to:{pathname:"/",state:{errorConnecting:!1}}}),_&&Object(j.jsx)(N.a,{type:"TailSpin",color:"rgb(175,0,0)",height:100,width:100,style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",zIndex:"2"}}),"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438:",Object(j.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435(1-60 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)",style:{borderRadius:"5px"},defaultValue:null===i?"\u041d\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f":i.title,required:!0,minLength:"1",maxLength:"60",onChange:function(e){g(e.target.value)}}),Object(j.jsx)("span",{style:{marginTop:"10px"},children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(j.jsx)("textarea",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435(1-70 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)",required:!0,maxLength:"70",value:v,style:t,onChange:function(e){w(e.target.value),t=e.target.value.length<5||e.target.value>60?D:E}}),Object(j.jsx)("span",{style:{marginTop:"10px"},children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0434\u043b\u044f \u0437\u0430\u0434\u043d\u0435\u0433\u043e \u0444\u043e\u043d\u0430:"}),Object(j.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL",style:{borderRadius:"5px"},value:C,required:!0,pattern:".+\\.(jpeg|jpg|gif|png)$",onChange:function(e){R(e.target.value)}}),Object(j.jsx)("input",{type:"submit",value:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",className:"btn",style:{marginTop:"20px"}})]})};var ee=Object(p.c)((function(e){var t=e.categories,a=e.onNewArticle,n=e.fetching,c=e.isAdmin,r=e.accessToken,o=Object(x.j)().path,i=Object(x.i)(),s=i.category,l=i.id,u=Object(p.b)().user,h=0===t.length?[]:t.find((function(e){return e.title===decodeURIComponent(s)})),d=void 0===h?{title:"",description:"",category:"",imgURL:""}:h.articles.find((function(e){return e._id===l}));return Object(j.jsx)(j.Fragment,{children:""===d.title||void 0===u||u.nickname!==d.author&&!c?!n&&Object(j.jsx)(L,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.b,{exact:!0,path:"".concat(o),render:function(e){return Object(j.jsx)($,{categories:t,initTitle:d.title,initDescription:d.description,initCategory:decodeURIComponent(s),initImgURL:d.imgURL})}}),Object(j.jsx)(x.b,{path:"".concat(o,"/title=:title/description=:description/imgURL=:imgURL/category=:categor"),render:function(e){return Object(j.jsx)(W,{categories:t,initValue:d.body,onNewArticle:a,method:"put",isAdmin:c,accessToken:r})}})]})})}));var te=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(u.a)(r,2),i=o[0],h=o[1],b=Object(n.useState)(!1),f=Object(u.a)(b,2),g=f[0],O=f[1],m=Object(n.useState)(""),w=Object(u.a)(m,2),y=w[0],k=w[1],C=Object(n.useState)(!1),R=Object(u.a)(C,2),N=R[0],U=R[1],A=Object(n.useState)(!1),I=Object(u.a)(A,2),S=I[0],_=I[1],B=Object(n.useState)(null),z=Object(u.a)(B,2),D=z[0],E=z[1],H=Object(p.b)(),V=H.user,F=H.isLoading,W=H.getAccessTokenSilently,J=H.isAuthenticated,$=H.loginWithRedirect;function Y(){return Q.apply(this,arguments)}function Q(){return(Q=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.t0=c,e.next=5,d.a.get("http://localhost:5000/api/categories");case 5:e.t1=e.sent.data,(0,e.t0)(e.t1),O(!1),e.next=14;break;case 10:e.prev=10,e.t2=e.catch(0),O(!1),U(!0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}Object(n.useEffect)((function(){Y()}),[]);var te=function(e){M.b.error(e,{position:"top-right",autoClose:!1,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,onClose:function(){return U(!1)}})};Object(n.useEffect)((function(){h(void 0!==V&&!V.email_verified);var e=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("http://localhost:5000/api/role/".concat(void 0!==V?V.sub.toString():""));case 2:t=e.sent.data,_("Admin"===t.role);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=E,e.next=4,W({audience:"http://localhost:5000/api",scope:"read:current_user"});case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),$();case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();F||(e(),J&&t())}),[V,F,W,J,$]);var ae=function(){Y()};return Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{}),Object(j.jsx)(v,{searchedTitle:y,handleChange:function(e){k(e.target.value)},isAdmin:S}),i&&Object(j.jsx)(K,{handleClick:function(){h(!1)}}),Object(j.jsxs)(x.d,{children:[Object(j.jsx)(x.b,{exact:!0,path:"/",render:function(e){return Object(j.jsx)(X,{categories:a,searchedTitle:y,fetching:g,displayError:N,error:te,onNewArticle:ae,isAdmin:S,accessToken:D})}}),Object(j.jsx)(x.b,{path:"/login",render:function(){return Object(j.jsx)(q,{})}}),Object(j.jsx)(x.b,{path:"/new-article",render:function(e){return Object(j.jsx)(G,{categories:a,onNewArticle:ae,isAdmin:S,accessToken:D})}}),Object(j.jsx)(x.b,{path:"/category/:category/article/:id/edit",render:function(e){return Object(j.jsx)(ee,{categories:a,onNewArticle:ae,fetching:g,isAdmin:S,accessToken:D})}}),Object(j.jsx)(x.b,{exact:!0,path:"/category/:category/article/:id",render:function(e){return Object(j.jsx)(P,{categories:a,fetching:g,isAdmin:S,onNewArticle:ae,accessToken:D})}}),Object(j.jsx)(x.b,{path:"/category/:category/edit",render:function(e){return Object(j.jsx)(Z,{onNewArticle:ae,categories:a,action:"put"})}}),Object(j.jsx)(x.b,{path:"/category/:category",render:function(e){return Object(j.jsx)(T,{categories:a,searchedTitle:y,fetching:g,isAdmin:S,onNewArticle:ae,accessToken:D})}}),Object(j.jsx)(x.b,{path:"/new-category",render:function(e){return Object(j.jsx)(Z,{onNewArticle:ae,action:"post"})}}),Object(j.jsx)(x.b,{component:L})]})]})},ae=function(e){var t=e.children,a=Object(x.g)();return Object(j.jsx)(p.a,{domain:"dev-bxkn-g3q.eu.auth0.com",clientId:"7Ir6oM7GdAygglN89wVtbEJCGxgFFk9U",redirectUri:window.location.origin,audience:"http://localhost:5000/api",onRedirectCallback:function(e){a.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},scope:"read:current_user",children:t})};o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(b.a,{children:Object(j.jsx)(ae,{children:Object(j.jsx)(te,{})})})}),document.getElementById("root"))},71:function(e,t,a){}},[[169,2,3]]]);
//# sourceMappingURL=main.15b8043e.chunk.js.map